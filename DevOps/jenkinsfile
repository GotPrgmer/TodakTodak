pipeline {
    agent any
    stages {
        stage('Deploy') {
                steps{
                    sh 'docker ps -f name=back -q | xargs --no-run-if-empty docker container stop'
                    sh 'docker container ls -a -f name=back -q | xargs -r docker container rm'
                    sh 'docker images --no-trunc --all --quiet --filter="dangling=true" | xargs --no-run-if-empty docker rmi'
                    sh 'docker run --name back -p 8080:8080 \
                    
                    BackEnd'
                }
        }
    }
}
